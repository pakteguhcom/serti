<!DOCTYPE html>
<html lang="id" style="margin:0; padding:0; height:100%;">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sertifikat</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
      background-color: #f0f0f0;
    }
    iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
    }
  </style>
</head>
<body>

  <iframe id="sertifikat-iframe"></iframe>

  <script>
    (function() {
      // 1. Tentukan URL dasar Google Script Anda
      const baseUrl = "https://script.google.com/macros/s/AKfycbw-TxT85LXsBR9OgGZG8wwFmtZAKXyxVoCkgGzXqPf9IlTI2E5AABlV3xK9VgCz9Zqj/exec";

      // 2. Dapatkan seluruh string kueri (misal: "?KODE_ANDA")
      const queryString = window.location.search;
      
      // 3. Ambil nilainya dengan menghapus tanda '?' di awal.
      const codeValue = queryString ? queryString.slice(1) : null;

      // 4. Siapkan variabel untuk URL iframe
      let dynamicUrl;

      // ----------------------------------------------------
      // PERUBAHAN LOGIKA UTAMA ADA DI SINI
      // ----------------------------------------------------
      
      // 5. Periksa apakah codeValue ada (tidak null dan tidak string kosong)
      if (codeValue) {
        // Jika ADA KODE: Buat URL dengan parameter CODE
        // (Contoh: .../index.html?12345)
        dynamicUrl = baseUrl + "?id=" + encodeURIComponent(codeValue);
      } else {
        // Jika TIDAK ADA KODE: Gunakan URL dasar saja
        // (Contoh: .../index.html)
        dynamicUrl = baseUrl;
      }

      // ----------------------------------------------------
      // Akhir dari perubahan
      // ----------------------------------------------------

      // 6. Temukan elemen iframe dan atur 'src'-nya
      const iframe = document.getElementById('sertifikat-iframe');
      iframe.src = dynamicUrl;

    })();
  </script>

</body>
</html>
